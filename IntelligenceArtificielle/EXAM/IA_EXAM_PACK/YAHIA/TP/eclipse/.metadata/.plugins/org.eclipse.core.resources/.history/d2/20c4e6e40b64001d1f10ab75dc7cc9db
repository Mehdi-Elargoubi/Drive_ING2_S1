package RL;

import java.util.Random;

class Node {

    
    private int q[];
    private int boardSize;
    private int cost;
    
    Random randomGenerator = new Random();

    public Node(int boardSize) {
     
        this.boardSize = boardSize;
        q = new int[boardSize];
        cost = 0;
        
        for (int i = 0; i < boardSize; i++) {
            q[i] = randomGenerator.nextInt(boardSize);
            System.out.println(q[i]);
        
        }
           
        calculateCost();
        
    }

    public Node(int boardSize, int q[]) {
        this.boardSize = boardSize;
        this.q = q;
        cost = 0;
        calculateCost();
    }



    public int getCost() {
       
        return cost;
    }

    public int[] getQueens() {
        return q;
    }
    
   

    public void calculateCost() {
         //TODO 
    	int i, j, cost=0;
    	for(i=0;i<boardSize;i++)
    		for(j=i+1;j<boardSize;j++) {
	    		if(Math.abs(q[i]-q[j]) == Math.abs(i - j))
	    			cost+=1;
    			if(q[i] == q[j])
    				cost+=1;
    		}
    	
    	System.out.print("Cost = " + cost + "\n");

    }

     
    public Node getBestNeighbor() {

        //TODO
    	int i,j,temp;
    	int copy_q[] = new int[boardSize];
    	System.arraycopy(q, 0, copy_q, 0, boardSize);
    	Node tempNode = this;
    	Node BestNode=Node n = new Node(4,copy_q);;
    	for(i=0; i<boardSize; i++) {
    		for(j=0; j<boardSize; j++) {
    			if(copy_q[i]!=j) {
    				if(tempNode.getCost()<BestNode.getCost()) {
    					copy_q[i]=j;
    					BestNode = new Node(boardSize, copy_q);
    				}
    			}
    			
    		}
    	}
    	
    	 return BestNode; 
      	 
    }
    
    public Node getRandomNeighbor() {
      
         //TODO
    	 
    	
    	
    	 return null; 
    }
    
    public void show() {
        System.out.println("Total Cost of " + this.getCost());
     
        int q[] = this.q;
       
        System.out.println();
        
        for (int i = 0; i < boardSize; i++) {
        	
            for (int j = 0; j < boardSize; j++) {
            	
               if (q[j] == i) {
                    System.out.print("Q\t");
                } else {
                    System.out.print("*\t");
                }
            }

            System.out.println();
        }
    }
}
